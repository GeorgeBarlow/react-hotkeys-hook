---
sidebar_position: 4
title: "Disable Hotkeys"
---

# Disable Hotkeys

We are now able to register our hotkeys, scope them to the component (or part of a component) and prevent stale state
inside our callback. But our hotkeys are always active. If the component has received focus, it will always trigger. However,
sometimes we want to dynamically decide if the hotkey should even be enabled.

There are multiple ways to disable a hotkey. Let's go through some of them.

## Disable

### Toggle hotkeys with the `enabled` flag

Using the `enabled` flag in the options we can dynamically tell `useHotkeys` if the hotkey should be active or not.

```jsx live
function ExampleComponent() {
  const [enabled, setEnabled] = useState(false)
  const [count, setCount] = useState(0)
  useHotkeys('b', () => setCount(prevCount => prevCount + 1), {
    enabled,
  })

  return (
    <div>
      <button onClick={() => setEnabled(prevValue => !prevValue)}>Toggle Hotkey</button>
      <p>Hotkey is {!enabled && 'not'} enabled.</p>
      <p>Pressed the 'b' key {count} times.</p>
    </div>
  )
}
```

This is useful to programmatically decide (depending on some internal state of our app or user input) if the hotkey
should be active or not.

:::info Tip
If we use the returned `ref` of the callback to scope our hotkey to a specific sub-tree of our component, note that
this will automatically activate or deactivate our Hotkey depending on which part of the page has active focus.
:::

## Prevent default browser behavior

Some hotkeys like `cmd + s` already are assigned to a browser function, in this case the feature the save a website to
the users local disk. Sometimes we want to override these hotkeys to implement our own functionality. Maybe we want to
build a text editor or some other user based creation tool that needs a save shortcut to save the current progress. It
would be silly to introduce a new shortcut for saving the users progress, since every user knows that `cmd + s` is the
universal shortcut for saving.

Our callback receives the browsers native event object, so we can just prevent the default behavior there and set up our
own custom handler:

```jsx live
function ExampleComponent() {
  useHotkeys('cmd+s, ctrl+s', (e) => {
    e.preventDefault()

    alert('We saved your progress!')
    // ... set up our own saving dialog.
  })

  return (
    <div>
      <p>Press cmd+s (or ctrl+s for non mac) to open custom save dialog.</p>
    </div>
  )
}
```

:::caution Warning
Please be aware that there are some hotkeys that we cannot override, because they would interfere with a safe browsing
experience for the user. These depend on the browser.
For example in Chrome, most notably those are `cmd + w` which closes a tab, `cmd + n` for opening a new window and `cmd + t` to open a new tab.
Additionally `cmd + shift + w` (closing all tabs of the current window), `cmd + shift + n` (opening incognito window) and
`cmd + shift + t` (reopen the last closed tab) cannot be overridden.
:::

### Prevent callback execution

In addition to completely unbinding the hotkey, we can also disable the execution of the callback with setting the `filter`
option. The `filter` key takes a function that is expected to return a boolean value to indicate if the callback should
get executed or not.
In this scenario the hotkey is still active, but the callback won't be called if the filter function returns false.

```jsx live
function ExampleComponent() {
  useHotkeys('option+b', () => alert('Callback got executed'), {
    filter: e => {
      console.log(e);

      return true;
    }
  })

  return (
    <div>
      <p>Pressing 'b' executes the callback, while 'alt+b' won't.</p>
    </div>
  )
}
```

With that in mind we can slightly change our save routine override from above:

```jsx
function ExampleComponent() {
  useHotkeys('cmd+s, ctrl+s', () => alert('We saved your progress!'), {
    filter: e => {
      e.preventDefault()

      return true
    }
  })

  return (
    <div>
      <p>Press cmd+s (or ctrl+s for non mac) to open custom save dialog.</p>
    </div>
  )
}
```

This might be preferred if we want to build a custom hook on top of `useHotkeys` that always prevents the default behavior.

### Prevent on form fields

### Prevent on `contentEditable` fields